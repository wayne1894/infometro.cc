<div id="line_parent">
	<div id="logo"><img src="src/static/images/icon_128.fw.png"></div>
	<div class="line_text">所有支線：</div>
	<div id="left_line">
      <ul id="line_drag">
        <li v-for="(item, index) in line" :class="check_line(index)"   class="line_list" @drop="drop_line(event,index)" :data-key="item._key" :key="item._key">
          <div class="tool" @click="delete_line(index)">
            <i class="trash outline icon"></i>
          </div>
          <input class="line_input" type="text" v-model="item.name">
          <i class="line_i" @click="open_color(index,item.color)" :style="{backgroundColor:item.color}" ></i>
          <a class="line_a" @dblclick="re_name(index,'line')" @click="exchange_line(index)">{{item.name}}</a>
        </li>
      </ul>
	</div>
	<a id="new_line" class="default_a" @click="new_line()">新增支線</a>
</div>
<div id="edit_parent">
	<a class="left_icon" href="javascript:void(0)"><i class="setting icon"></i></a>
	<a class="left_icon" href="javascript:void(0)"><i class="power icon"></i></a>
</div>
  <script>
  function drop_line(event,index){
    var metro_index = event.dataTransfer.getData("index");
		if(metro_index=="")return;
    var _metro=vm.move_metro(metro_index)[0];
    vm.get_blueprint().line[index].metro.push(_metro);
    vm.更新藍圖();
  }
    
$(function(){
  $(document.body).append("<div id='left_color' style='position: absolute;left:0;top:0'></div>");
  $('#left_color').colpick({
    layout:'hex',
    onSubmit:function(hsb,hex,rgb,el,bySetColor){
      $(el).val(hex);
      $(el).colpickHide();
    }
  }).colpickHide();
})
	</script>